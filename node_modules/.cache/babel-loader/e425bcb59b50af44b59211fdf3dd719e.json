{"ast":null,"code":"var _jsxFileName = \"/Users/Ginny 1/SSUI-Final/src/components/CountryDropdown.js\";\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport \"./CountryDropdown.css\";\n\nconst CountryDropdown = props => {\n  const countries = useSelector(state => state.countries);\n  const collection = useSelector(state => state.collection);\n  const dispatch = useDispatch();\n\n  const fetchCountry = event => {\n    const [slug, country, ISO2] = event.target.value.split(\",\");\n\n    async function fetchData() {\n      const requestOptions = {\n        method: 'GET',\n        redirect: 'follow'\n      };\n      const response = await fetch(`https://api.covid19api.com/total/country/` + slug, requestOptions);\n      const data = await response.json();\n      const parsedData = data.filter(day => day.Confirmed > 0);\n      dispatch({\n        type: 'addCountryData',\n        payload: {\n          [country]: parsedData\n        }\n      });\n      dispatch({\n        type: 'addCountryToCollection',\n        payload: {\n          slug,\n          country,\n          ISO2\n        }\n      });\n    }\n\n    fetchData();\n  };\n\n  const invalid = () => collection.length === 0;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-md-6 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \" Choose the country you want to display\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => fetchCountry(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    placeholder: \"Countries\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \" Countries \"), countries.sort((a, b) => a.Country > b.Country ? 1 : -1).map(country => /*#__PURE__*/React.createElement(\"option\", {\n    id: country.Slug,\n    key: country.Slug,\n    value: [country.Slug, country.Country, country.ISO2],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, country.Country))), /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/collection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"dark\",\n    disabled: invalid(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"View plots side by side\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 col-md-6 col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, collection.map((country, index) => {\n    // const flagUrl = `https://disease.sh/assets/img/flags/${country.ISO2.toLowerCase()}.png`\n    // const flagUrl = `https://www.countryflags.io/${country.ISO2.toLowerCase()}/flat/64.png`\n    const flagUrl = `https://flagcdn.com/256x192/${country.ISO2.toLowerCase()}.png`;\n    const worldUrl = `https://freesvg.org/img/Globe-Icon-Umber.png`;\n    return (\n      /*#__PURE__*/\n      // <div className=\"col-sm-12 col-md-6 col-lg-4\" key={index}>\n      React.createElement(\"div\", {\n        className: \"country\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"flag\",\n        key: country.slug,\n        src: flagUrl,\n        onError: e => {\n          if (e.target.src !== worldUrl) {\n            e.target.src = worldUrl;\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 33\n        }\n      }, country.country)) // </div>\n\n    );\n  })));\n};\n\nexport default CountryDropdown;","map":{"version":3,"sources":["/Users/Ginny 1/SSUI-Final/src/components/CountryDropdown.js"],"names":["React","useSelector","useDispatch","NavLink","CountryDropdown","props","countries","state","collection","dispatch","fetchCountry","event","slug","country","ISO2","target","value","split","fetchData","requestOptions","method","redirect","response","fetch","data","json","parsedData","filter","day","Confirmed","type","payload","invalid","length","sort","a","b","Country","map","Slug","index","flagUrl","toLowerCase","worldUrl","e","src"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { NavLink } from 'react-router-dom';\nimport \"./CountryDropdown.css\";\n\nconst CountryDropdown = (props) => {\n\n    const countries = useSelector(state => state.countries)\n    const collection = useSelector(state => state.collection)\n    const dispatch = useDispatch()\n\n    const fetchCountry = (event) => {\n        const [slug, country, ISO2] = event.target.value.split(\",\") \n\n        async function fetchData() {\n\n            const requestOptions = {\n                method: 'GET',\n                redirect: 'follow'\n            };\n            \n            const response = await fetch(`https://api.covid19api.com/total/country/` + slug, requestOptions)\n\n            const data = await response.json()\n            const parsedData = data.filter(day => day.Confirmed > 0)\n\n            dispatch( { type: 'addCountryData', payload: { [country]: parsedData }} )\n            dispatch( { type: 'addCountryToCollection', payload: {slug, country, ISO2}} )\n        }\n        fetchData();\n    }\n\n    const invalid = () => collection.length === 0\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-sm-12 col-md-6 col-lg-4\">\n\n                <h6> Choose the country you want to display</h6>\n\n                <select onChange={event => fetchCountry(event)}>\n                \n                    <option placeholder=\"Countries\"> Countries </option>\n                    {countries.sort((a, b) => (a.Country > b.Country) ? 1 : -1).map(country => (\n                        <option\n                            id={country.Slug}\n                            key={country.Slug}\n                            value={[country.Slug, country.Country, country.ISO2]}\n                        >\n                        {country.Country}\n                        </option> \n                    ))}\n                </select>\n\n                <NavLink to='/collection'>\n                    <button className=\"dark\" disabled={invalid()}>View plots side by side</button>\n                </NavLink>\n            </div>\n\n            <div className=\"col-sm-12 col-md-6 col-lg-8\">\n                {collection.map( (country, index) => {\n                    // const flagUrl = `https://disease.sh/assets/img/flags/${country.ISO2.toLowerCase()}.png`\n                    // const flagUrl = `https://www.countryflags.io/${country.ISO2.toLowerCase()}/flat/64.png`\n                    const flagUrl = `https://flagcdn.com/256x192/${country.ISO2.toLowerCase()}.png`\n                    const worldUrl = `https://freesvg.org/img/Globe-Icon-Umber.png`\n\n                    return (\n                        // <div className=\"col-sm-12 col-md-6 col-lg-4\" key={index}>\n\n                            <div className=\"country\">\n                                <img className=\"flag\" key={country.slug} src={flagUrl} onError={(e)=>{ \n                                    if (e.target.src !== worldUrl) {\n                                        e.target.src=worldUrl;}\n                                    }}/>\n                                <h5>{country.country}</h5>\n                            </div>\n                        // </div>\n                    )\n                })}\n            </div>\n\n            </div>\n\n    )\n}\n\nexport default CountryDropdown\n\n\n"]},"metadata":{},"sourceType":"module"}