{"ast":null,"code":"var _jsxFileName = \"/Users/Ginny 1/covid19_world_tracker_frontend/src/containers/New.js\";\nimport React, { useState, useEffect } from 'react';\nimport CountryDropdown from '../components/CountryDropdown';\nimport { Loader } from '../components/Loader';\nimport { useDispatch } from \"react-redux\";\n\nconst New = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch(); // const url = \"https://api.covid19api.com/dayone/country/united-states\"\n  // const url = \"https://api.covid19api.com/dayone/country/china\" // for testing logic with smaller fetch\n\n  useEffect(() => {\n    async function fetchData() {\n      setIsLoading(true);\n      var requestOptions = {\n        method: 'GET',\n        redirect: 'follow'\n      };\n      const response = await fetch(\"https://api.covid19api.com/countries\", requestOptions);\n      const data = await response.json();\n      dispatch({\n        type: 'addCountries',\n        payload: data\n      });\n      setIsLoading(false);\n    }\n\n    fetchData();\n  }, []); // useEffect( () => {\n  //     console.log(\"inside fetch for US data\")\n  //     async function fetchData() {\n  //         setIsLoading(true);\n  //         var requestOptions = {\n  //             method: 'GET',\n  //             redirect: 'follow'\n  //         };\n  //         const response = await fetch(url, requestOptions)\n  //         const data = await response.json()\n  //         console.log(data)\n  //         dispatch({ type: 'cacheData', payload: {slug: \"united-states\", data} })\n  //         setIsLoading(false);\n  //     }\n  //     fetchData();\n  // }, []); \n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(CountryDropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default New;","map":{"version":3,"sources":["/Users/Ginny 1/covid19_world_tracker_frontend/src/containers/New.js"],"names":["React","useState","useEffect","CountryDropdown","Loader","useDispatch","New","isLoading","setIsLoading","dispatch","fetchData","requestOptions","method","redirect","response","fetch","data","json","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,GAAG,GAAG,MAAM;AACd,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAMQ,QAAQ,GAAGJ,WAAW,EAA5B,CAFc,CAGd;AACA;;AAGAH,EAAAA,SAAS,CAAE,MAAM;AACb,mBAAeQ,SAAf,GAA2B;AACvBF,MAAAA,YAAY,CAAC,IAAD,CAAZ;AAEA,UAAIG,cAAc,GAAG;AACjBC,QAAAA,MAAM,EAAE,KADS;AAEjBC,QAAAA,QAAQ,EAAE;AAFO,OAArB;AAKA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAD,EAAyCJ,cAAzC,CAA5B;AACA,YAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAR,MAAAA,QAAQ,CAAC;AAAES,QAAAA,IAAI,EAAE,cAAR;AAAwBC,QAAAA,OAAO,EAAEH;AAAjC,OAAD,CAAR;AACAR,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH;;AACDE,IAAAA,SAAS;AACZ,GAfQ,EAeN,EAfM,CAAT,CAPc,CAwBF;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEZ,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,SAAS,gBACN,oBAAE,MAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN,oBAAE,eAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJR,CAFJ;AAUH,CArDD;;AAuDA,eAAeD,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CountryDropdown from '../components/CountryDropdown'\nimport { Loader } from '../components/Loader'\nimport { useDispatch } from \"react-redux\";\n\nconst New = () => {\n    const [isLoading, setIsLoading] = useState(false);\n    const dispatch = useDispatch()\n    // const url = \"https://api.covid19api.com/dayone/country/united-states\"\n    // const url = \"https://api.covid19api.com/dayone/country/china\" // for testing logic with smaller fetch\n\n \n    useEffect( () => {\n        async function fetchData() {\n            setIsLoading(true);\n\n            var requestOptions = {\n                method: 'GET',\n                redirect: 'follow'\n              };\n\n            const response = await fetch(\"https://api.covid19api.com/countries\", requestOptions)\n            const data = await response.json()\n            dispatch({ type: 'addCountries', payload: data })\n            setIsLoading(false);\n        }\n        fetchData();\n    }, []); \n\n                // useEffect( () => {\n                //     console.log(\"inside fetch for US data\")\n                //     async function fetchData() {\n                //         setIsLoading(true);\n\n                //         var requestOptions = {\n                //             method: 'GET',\n                //             redirect: 'follow'\n                //         };\n                        \n                //         const response = await fetch(url, requestOptions)\n                //         const data = await response.json()\n                //         console.log(data)\n                //         dispatch({ type: 'cacheData', payload: {slug: \"united-states\", data} })\n                //         setIsLoading(false);\n                //     }\n                //     fetchData();\n                // }, []); \n\n    return (\n\n        <div>\n            {isLoading ? (\n                < Loader />\n            ) : (\n                < CountryDropdown />\n            )}\n        </div>\n    )\n}\n\nexport default New"]},"metadata":{},"sourceType":"module"}